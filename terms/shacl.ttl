@prefix sh: <http://www.w3.org/ns/shacl#> .
@prefix smvg: <https://purl.org/smvg/> .
@prefix schema: <https://schema.org/> .
@prefix dcterms: <http://purl.org/dc/terms/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .
@prefix wd: <http://www.wikidata.org/entity/> .
@prefix ex: <http://example.org/shapes/> .

# Shape for resources of type VideoGame (schema:VideoGame)
ex:VideoGameShape
  a sh:NodeShape ;
  sh:targetClass <https://schema.org/VideoGame> ;
  sh:property [
    sh:path dcterms:title ;            # name
    sh:datatype xsd:string ;
    sh:minCount 1 ;
    sh:message "Each game must have a title (name)."
  ] ;
  sh:property [
    sh:path schema:datePublished ;     # release_date
    sh:datatype xsd:date ;
    sh:minCount 1 ;
    sh:message "Each game must have a release date (release_date) in the format YYYY-MM-DD."
  ] ;
  sh:property [
    sh:path schema:ratingValue ;       # rating_value
    sh:datatype xsd:float ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "rating_value must be a number (float)."
  ] ;
  sh:property [
    sh:path schema:ratingCount ;       # rating_count
    sh:datatype xsd:integer ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "rating_count must be an integer."
  ] ;
  sh:property [
    sh:path smvg:achievements ;
    sh:datatype xsd:integer ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "achievements must be an integer when present."
  ] ;
  sh:property [
    sh:path smvg:avg_playtime ;
    sh:datatype xsd:float ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "average_playtime must be a float when present."
  ] ;
  sh:property [
    sh:path smvg:median_playtime ;
    sh:datatype xsd:float ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "median_playtime must be a float when present."
  ] ;
  sh:property [
    sh:path smvg:owners ;
    sh:datatype xsd:string ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "owners must be a string (e.g. '10000000-20000000')."
  ] ;
  sh:property [
    sh:path schema:price ;
    sh:datatype xsd:float ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "price must be numeric when present."
  ] ;
  sh:property [
    sh:path schema:requiredMinAge ;
    sh:datatype xsd:integer ;
    sh:minCount 0 ;
    sh:maxCount 1 ;
    sh:message "required_age must be an integer when present."
  ] ;
  # properties that are lists of literals
  sh:property [
    sh:path schema:keywords ;          # steamspy_tags
    sh:datatype xsd:string ;
    sh:minCount 0 ;
    sh:message "steamspy_tags/schema:keywords must be a string or a list of strings."
  ] ;
  sh:property [
    sh:path smvg:categories ;
    sh:datatype xsd:string ;
    sh:minCount 0 ;
    sh:message "categories must be a string or a list of strings."
  ] ;
  # properties that point to IRIs (wikidata etc.)
  sh:property [
    sh:path schema:creator ;           # developers (mapped to @id)
    sh:nodeKind sh:IRI ;
    sh:minCount 0 ;
    sh:message "developers must point to IRIs (e.g. wd:Q12345)."
  ] ;
  sh:property [
    sh:path schema:publisher ;         # publishers
    sh:nodeKind sh:IRI ;
    sh:minCount 0 ;
    sh:message "publishers must point to IRIs when present."
  ] ;
  sh:property [
    sh:path schema:genre ;             # genres (mapped to @id)
    sh:nodeKind sh:IRI ;
    sh:minCount 0 ;
    sh:message "genres must point to IRIs when present."
  ] ;
  sh:property [
    sh:path schema:operatingSystem ;   # platforms
    sh:nodeKind sh:IRI ;
    sh:minCount 0 ;
    sh:message "platforms must point to IRIs when present."
  ] .
